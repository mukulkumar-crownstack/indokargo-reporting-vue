{"version":3,"sources":["webpack:///./src/views/locations/Locations.vue?7aa5","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/components/cards/StatsCard.vue?1f9f","webpack:///./src/views/locations/Locations.vue?a6e3","webpack:///./src/components/cards/StatsCard.vue?1bf3","webpack:///src/components/cards/StatsCard.vue","webpack:///./src/components/cards/StatsCard.vue?e845","webpack:///./src/components/cards/StatsCard.vue?9240","webpack:///src/views/locations/Locations.vue","webpack:///./src/views/locations/Locations.vue?6d20","webpack:///./src/views/locations/Locations.vue?aa94","webpack:///./node_modules/core-js/modules/es.array.find-index.js"],"names":["$","$find","find","addToUnscopables","FIND","SKIPS_HOLES","Array","target","proto","forced","callbackfn","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","_l","card","index","key","title","attrs","color","slot","_v","_s","icon","value","model","callback","$$v","initial","expression","on","filterByRegion","regions","region","id","filterByCountry","country","name","directives","rawName","provinceOptions","filterByProvince","province","cityOptions","filterByCity","city","filterWarehouseOnly","warehouseOnly","clearFilters","download","items","fields","navigateTo","changePage","staticRenderFns","dataBackgroundColor","_t","props","type","String","default","component","components","data","label","sortable","mounted","getLocationSummary","getRegions","getCountries","getLocationData","error","err","console","log","methods","page","$router","push","val","idx","countryOptions","provinces","params","getCity","forEach","watch","handler","setTimeout","$findIndex","findIndex","FIND_INDEX"],"mappings":"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","file":"js/chunk-4fae2648.3b4c2240.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Locations.vue?vue&type=style&index=0&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatsCard.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"md-layout\"},[_vm._l((_vm.cards),function(card,index){return _c('div',{key:card.title + index,staticClass:\"md-layout-item md-medium-size-50 md-xsmall-size-100 md-size-25\"},[_c('stats-card',{attrs:{\"data-background-color\":card.color}},[_c('template',{slot:\"header\"},[_c('md-icon',[_vm._v(_vm._s(card.icon))])],1),_c('template',{slot:\"content\"},[_c('p',{staticClass:\"category\"},[_vm._v(_vm._s(card.title))]),_c('h3',{staticClass:\"title\"},[_vm._v(_vm._s(card.value))])])],2)],1)}),_c('div',{staticClass:\"md-layout-item\"},[_c('md-card',{staticClass:\"px-4\"},[_c('md-field',[_c('label',[_vm._v(\"Search by QR Code, Store ID, Name, Brand, AssetType and Model\")]),_c('md-input',{model:{value:(_vm.initial),callback:function ($$v) {_vm.initial=$$v},expression:\"initial\"}})],1)],1)],1),_c('div',{staticClass:\"md-layout-item md-medium-size-100 md-xsmall-size-100 md-size-100\"},[_c('md-card',[_c('md-card-content',[_c('div',{staticClass:\"md-layout md-gutter\"},[_c('div',{staticClass:\"md-layout-item md-size-15\"},[_c('md-field',[_c('label',{attrs:{\"for\":\"movies\"}},[_vm._v(\"Filter by Region\")]),_c('md-select',{attrs:{\"md-ripple\":false,\"name\":\"filterByRegion\",\"id\":\"filterByRegion\",\"multiple\":\"\"},on:{\"md-selected\":_vm.filterByRegion},model:{value:(_vm.regions),callback:function ($$v) {_vm.regions=$$v},expression:\"regions\"}},_vm._l((_vm.regionOptions),function(region){return _c('md-option',{key:region.id,attrs:{\"value\":region.id}},[_vm._v(_vm._s(region.region))])}),1)],1)],1),_c('div',{staticClass:\"md-layout-item md-size-15\"},[_c('md-field',[_c('md-select',{attrs:{\"md-ripple\":false,\"name\":\"country\",\"id\":\"country\",\"placeholder\":\"Filter By Country\"},on:{\"md-selected\":_vm.filterByCountry},model:{value:(_vm.country),callback:function ($$v) {_vm.country=$$v},expression:\"country\"}},_vm._l((_vm.countryOptions),function(country){return _c('md-option',{key:country.id,attrs:{\"value\":country.id}},[_vm._v(_vm._s(country.name))])}),1)],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.provinceOptions.length),expression:\"provinceOptions.length\"}],staticClass:\"md-layout-item md-size-15\"},[_c('md-field',[_c('md-select',{attrs:{\"md-ripple\":false,\"name\":\"filterByProvince\",\"id\":\"filterByProvince\",\"placeholder\":\"Filter By Province\"},on:{\"md-selected\":_vm.filterByProvince},model:{value:(_vm.province),callback:function ($$v) {_vm.province=$$v},expression:\"province\"}},_vm._l((_vm.provinceOptions),function(province){return _c('md-option',{key:province.id,attrs:{\"value\":province.id}},[_vm._v(_vm._s(province.name))])}),1)],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cityOptions.length),expression:\"cityOptions.length\"}],staticClass:\"md-layout-item md-size-15\"},[_c('md-field',[_c('md-select',{attrs:{\"md-ripple\":false,\"name\":\"filterByCity\",\"id\":\"filterByCity\",\"placeholder\":\"Filter By City\"},on:{\"md-selected\":_vm.filterByCity},model:{value:(_vm.city),callback:function ($$v) {_vm.city=$$v},expression:\"city\"}},_vm._l((_vm.cityOptions),function(city){return _c('md-option',{key:city.id,attrs:{\"value\":city.id}},[_vm._v(_vm._s(city.name))])}),1)],1)],1),_c('div',{staticClass:\"md-layout-item md-size-20 mt-3\"},[_c('md-checkbox',{on:{\"change\":_vm.filterWarehouseOnly},model:{value:(_vm.warehouseOnly),callback:function ($$v) {_vm.warehouseOnly=$$v},expression:\"warehouseOnly\"}},[_vm._v(\"Warehouse Only\")])],1),_c('div',{staticClass:\"md-layout-item md-accent md-size-15 mt-2\"},[_c('md-button',{staticClass:\"md-icon-button md-primary md-raised p-2\",on:{\"click\":_vm.clearFilters}},[_c('md-icon',[_vm._v(\"delete\")])],1)],1),_c('div',{staticClass:\"md-layout-item md-size-15 mt-1\"},[_c('md-button',{staticClass:\"md-raised md-primary\",on:{\"click\":_vm.download}},[_vm._v(\"Download\")])],1)]),_c('simple-table',{attrs:{\"table-header-color\":\"red\",\"items\":_vm.items,\"fields\":_vm.fields},on:{\"clicked\":_vm.navigateTo,\"paginate\":_vm.changePage}})],1)],1)],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('md-card',{staticClass:\"md-card-stats\"},[_c('md-card-header',{attrs:{\"data-background-color\":_vm.dataBackgroundColor}},[_vm._t(\"header\")],2),_c('md-card-content',[_vm._t(\"content\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <md-card class=\"md-card-stats\">\n    <md-card-header :data-background-color=\"dataBackgroundColor\">\n      <slot name=\"header\"></slot>\n    </md-card-header>\n\n    <md-card-content>\n      <slot name=\"content\"></slot>\n    </md-card-content>\n  </md-card>\n</template>\n<script>\nexport default {\n  name: \"stats-card\",\n  props: {\n    dataBackgroundColor: {\n      type: String,\n      default: \"\",\n    },\n  },\n};\n</script>\n\n<style>\n.md-card-stats {\n  min-height: 120px;\n}\n.md-card-stats .md-card-header i {\n  font-size: 26px !important;\n  line-height: 36px;\n  width: 36px;\n  height: 36px;\n  text-align: center;\n}\n.md-card .title {\n  color: #3c4858;\n  font-weight: 400;\n}\n.md-card-header {\n  padding: 5px !important;\n}\n.md-app-content .md-card {\n  margin-left: 0;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StatsCard.vue?vue&type=template&id=0cee2c70&\"\nimport script from \"./StatsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./StatsCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StatsCard.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"md-layout\">\r\n    <!-- <div class=\"p-4\"> -->\r\n    <div\r\n      v-for=\"(card, index) in cards\"\r\n      :key=\"card.title + index\"\r\n      class=\"md-layout-item md-medium-size-50 md-xsmall-size-100 md-size-25\"\r\n    >\r\n      <stats-card :data-background-color=\"card.color\">\r\n        <template slot=\"header\">\r\n          <md-icon>{{ card.icon }}</md-icon>\r\n        </template>\r\n\r\n        <template slot=\"content\">\r\n          <p class=\"category\">{{ card.title }}</p>\r\n          <h3 class=\"title\">{{ card.value }}</h3>\r\n        </template>\r\n      </stats-card>\r\n    </div>\r\n\r\n    <!-- </div> -->\r\n    <div class=\"md-layout-item\">\r\n      <md-card class=\"px-4\">\r\n        <md-field>\r\n          <label\r\n            >Search by QR Code, Store ID, Name, Brand, AssetType and\r\n            Model</label\r\n          >\r\n          <md-input v-model=\"initial\"></md-input>\r\n        </md-field>\r\n      </md-card>\r\n    </div>\r\n\r\n    <div\r\n      class=\"md-layout-item md-medium-size-100 md-xsmall-size-100 md-size-100\"\r\n    >\r\n      <md-card>\r\n        <md-card-content>\r\n          <div class=\"md-layout md-gutter\">\r\n            <div class=\"md-layout-item md-size-15\">\r\n              <md-field>\r\n                <label for=\"movies\">Filter by Region</label>\r\n                <md-select\r\n                  :md-ripple=\"false\"\r\n                  v-model=\"regions\"\r\n                  @md-selected=\"filterByRegion\"\r\n                  name=\"filterByRegion\"\r\n                  id=\"filterByRegion\"\r\n                  multiple\r\n                >\r\n                  <md-option\r\n                    v-for=\"region in regionOptions\"\r\n                    :key=\"region.id\"\r\n                    :value=\"region.id\"\r\n                    >{{ region.region }}</md-option\r\n                  >\r\n                </md-select>\r\n              </md-field>\r\n            </div>\r\n            <div class=\"md-layout-item md-size-15\">\r\n              <md-field>\r\n                <md-select\r\n                  :md-ripple=\"false\"\r\n                  v-model=\"country\"\r\n                  @md-selected=\"filterByCountry\"\r\n                  name=\"country\"\r\n                  id=\"country\"\r\n                  placeholder=\"Filter By Country\"\r\n                >\r\n                  <md-option\r\n                    v-for=\"country in countryOptions\"\r\n                    :key=\"country.id\"\r\n                    :value=\"country.id\"\r\n                    >{{ country.name }}</md-option\r\n                  >\r\n                </md-select>\r\n              </md-field>\r\n            </div>\r\n            <div\r\n              v-show=\"provinceOptions.length\"\r\n              class=\"md-layout-item md-size-15\"\r\n            >\r\n              <md-field>\r\n                <md-select\r\n                  :md-ripple=\"false\"\r\n                  v-model=\"province\"\r\n                  @md-selected=\"filterByProvince\"\r\n                  name=\"filterByProvince\"\r\n                  id=\"filterByProvince\"\r\n                  placeholder=\"Filter By Province\"\r\n                >\r\n                  <md-option\r\n                    v-for=\"province in provinceOptions\"\r\n                    :key=\"province.id\"\r\n                    :value=\"province.id\"\r\n                    >{{ province.name }}</md-option\r\n                  >\r\n                </md-select>\r\n              </md-field>\r\n            </div>\r\n            <div v-show=\"cityOptions.length\" class=\"md-layout-item md-size-15\">\r\n              <md-field>\r\n                <md-select\r\n                  :md-ripple=\"false\"\r\n                  v-model=\"city\"\r\n                  @md-selected=\"filterByCity\"\r\n                  name=\"filterByCity\"\r\n                  id=\"filterByCity\"\r\n                  placeholder=\"Filter By City\"\r\n                >\r\n                  <md-option\r\n                    v-for=\"city in cityOptions\"\r\n                    :key=\"city.id\"\r\n                    :value=\"city.id\"\r\n                    >{{ city.name }}</md-option\r\n                  >\r\n                </md-select>\r\n              </md-field>\r\n            </div>\r\n            <div class=\"md-layout-item md-size-20 mt-3\">\r\n              <md-checkbox @change=\"filterWarehouseOnly\" v-model=\"warehouseOnly\">Warehouse Only</md-checkbox>\r\n            </div>\r\n            <div class=\"md-layout-item md-accent md-size-15 mt-2\">\r\n              <md-button @click=\"clearFilters\" class=\"md-icon-button md-primary md-raised p-2\">\r\n                <md-icon>delete</md-icon>\r\n              </md-button>\r\n            </div>\r\n            <div class=\"md-layout-item md-size-15 mt-1\">\r\n              <md-button @click=\"download\" class=\"md-raised md-primary\">Download</md-button>\r\n            </div>\r\n          </div>\r\n          <simple-table\r\n            table-header-color=\"red\"\r\n            :items=\"items\"\r\n            :fields=\"fields\"\r\n            v-on:clicked=\"navigateTo\"\r\n            v-on:paginate=\"changePage\"\r\n          >\r\n            <!-- <template #cell(field1)=\"data\">\r\n              {{ data.item.value }}\r\n            </template> -->\r\n          </simple-table>\r\n        </md-card-content>\r\n      </md-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport StatsCard from \"../../components/cards/StatsCard\";\r\nimport SimpleTable from \"../../components/table/SimpleTable\";\r\nimport { getLocationSummary } from \"../../services/userService\";\r\nimport { getCountryList } from \"../../services/userService\";\r\nimport { getRegionList } from \"../../services/userService\";\r\nimport { getLocation } from \"../../services/userService\";\r\nimport { exportLocations } from \"../../services/userService\";\r\nimport { getCity } from \"../../services/userService\";\r\n\r\nexport default {\r\n  name: \"Locations\",\r\n  components: { StatsCard, SimpleTable },\r\n  props: {},\r\n  data: () => ({\r\n    initial: null,\r\n    warehouseOnly: false,\r\n    regions: [],\r\n    country: null,\r\n    province: null,\r\n    city: null,\r\n    items: {\r\n      current_page: 1,\r\n      per_page: 10,\r\n      total: 0,\r\n      data: [],\r\n    },\r\n    params: {},\r\n    regionOptions: [],\r\n    countryOptions: [],\r\n    provinceOptions: [],\r\n    cityOptions: [],\r\n    cards: [\r\n      {\r\n        color: \"green\",\r\n        icon: \"store\",\r\n        title: \"Total Store Locations\",\r\n        key: \"total_stores\",\r\n        value: null,\r\n      },\r\n      {\r\n        color: \"red\",\r\n        icon: \"qr_code\",\r\n        title: \"Total Store with Asset Codes\",\r\n        key: \"total_qr_stores\",\r\n        value: null,\r\n      },\r\n      {\r\n        color: \"red\",\r\n        icon: \"qr_code\",\r\n        title: \"Total Asset Codes\",\r\n        key: \"total_qr_code\",\r\n        value: null,\r\n      },\r\n      {\r\n        color: \"red\",\r\n        icon: \"qr_code\",\r\n        title: \"Total Warehouse Asset Codes\",\r\n        key: \"total_warehouse_qr\",\r\n        value: null,\r\n      },\r\n      {\r\n        color: \"green\",\r\n        icon: \"store\",\r\n        title: \"Filtered Store Locations\",\r\n        key: \"filtered_total_stores\",\r\n        value: null,\r\n      },\r\n      {\r\n        color: \"red\",\r\n        icon: \"qr_code\",\r\n        title: \"Filtered Store with Asset Codes\",\r\n        key: \"filtered_total_qr_stores\",\r\n        value: null,\r\n      },\r\n      {\r\n        color: \"red\",\r\n        icon: \"qr_code\",\r\n        title: \"Filtered Asset Codes\",\r\n        key: \"filtered_total_qr_code\",\r\n        value: null,\r\n      },\r\n      {\r\n        color: \"red\",\r\n        icon: \"qr_code\",\r\n        title: \"Filtered Warehouse Asset Codes\",\r\n        key: \"filtered_total_warehouse_qr\",\r\n        value: null,\r\n      },\r\n    ],\r\n    fields: [\r\n      {\r\n        key: \"asset_code\",\r\n        label: \"Asset Code\",\r\n        sortable: false,\r\n      },\r\n      {\r\n        key: \"store_id\",\r\n        label: \"Store ID\",\r\n        sortable: false,\r\n      },\r\n      {\r\n        label: \"Store Name\",\r\n        key: \"store_name\",\r\n        sortable: false,\r\n      },\r\n      {\r\n        key: \"country\",\r\n        label: \"Country\",\r\n        sortable: false,\r\n      },\r\n      {\r\n        key: \"province\",\r\n        label: \"Province\",\r\n        sortable: false,\r\n      },\r\n      {\r\n        key: \"city\",\r\n        label: \"City\",\r\n        sortable: false,\r\n      },\r\n      {\r\n        key: \"address\",\r\n        label: \"Address\",\r\n        sortable: false,\r\n      },\r\n      {\r\n        key: \"region\",\r\n        label: \"Region\",\r\n        sortable: false,\r\n      },\r\n    ],\r\n  }),\r\n  mounted() {\r\n    try {\r\n      this.getLocationSummary();\r\n      this.getRegions();\r\n      this.getCountries();\r\n      this.getLocationData({page: this.items.current_page, per_page: this.items.per_page})\r\n    } catch (err) {\r\n      this.error = err;\r\n      console.log(err);\r\n    }\r\n  },\r\n  methods: {\r\n    changePage (page){\r\n      this.getLocationData(page);\r\n    },\r\n    async getLocationData(params){\r\n      const locationRes = await getLocation(params);\r\n      if (locationRes.data.length) {\r\n        this.items.data = locationRes.data[0].data.data.map((ele) => {\r\n          return {\r\n            asset_code: ele.qr_code,\r\n            store_id: ele.address.id_number,\r\n            store_uid: ele.address.id,\r\n            store_name: ele.address.company_name,\r\n            country: ele.address.country.name || \"N/A\",\r\n            province: ele.address.province.name || \"N/A\",\r\n            city: ele.address.city,\r\n            address: ele.address.address,\r\n            region: ele.address.region,\r\n            locationId: ele.id,\r\n          };\r\n        });\r\n        this.items.per_page = locationRes.data[0].data.per_page;\r\n        this.items.current_page = locationRes.data[0].data.current_page;\r\n        this.items.total = locationRes.data[0].data.total;\r\n        this.cards[4].value = locationRes.data[0].total_locations;\r\n        this.cards[5].value = locationRes.data[0].data.total;\r\n        this.cards[6].value = locationRes.data[0].total_qr;\r\n        this.cards[7].value = locationRes.data[0].total_warehouse_qr;\r\n      }\r\n    },\r\n    async getCountries (){\r\n      const countryRes = await getCountryList();\r\n       if (countryRes.data.length) {\r\n        this.countryOptions = countryRes.data;\r\n      }\r\n    },\r\n    async getRegions (){\r\n      const regionRes = await getRegionList();\r\n      if (regionRes.data.length) {\r\n        this.regionOptions = regionRes.data;\r\n      }\r\n    },\r\n    async getLocationSummary (){\r\n      const locationSummaryRes = await getLocationSummary();\r\n      if (locationSummaryRes.data.length) {\r\n        this.cards = this.cards.map((ele) => {\r\n          ele.value = locationSummaryRes.data[0][ele.key];\r\n          return ele;\r\n        });\r\n      }\r\n    },\r\n    async getCity(cityId){\r\n      const city = await getCity(cityId);\r\n      if (city.data.length) {\r\n        this.cityOptions = city.data[0].data;\r\n      }\r\n    },\r\n    navigateTo(data) {\r\n      const locationId = this.items.data[data.index].locationId;\r\n      if (data.name === \"asset_code\") {\r\n        const code = this.items.data[data.index].asset_code;\r\n        this.$router.push({ path: `qr/${code}/${locationId}` });\r\n      }\r\n      if (data.name === \"store_id\") {\r\n        const code = this.items.data[data.index].store_uid;\r\n        this.$router.push({ path: `store/${code}` });\r\n      }\r\n    }, \r\n    filterByCountry (val) {\r\n      if (val) {\r\n        const idx = this.countryOptions.findIndex((ele) => ele.id === val);\r\n        if (idx > -1) {\r\n          this.provinceOptions = this.countryOptions[idx].provinces;\r\n        }\r\n        this.params = {...this.params, country: val}\r\n        this.getLocationData({page: 1, per_page: this.items.per_page, ...this.params})\r\n      }\r\n    },\r\n    filterByProvince (val) {\r\n      if (val) {\r\n        const city = this.provinceOptions.find((ele) => ele.id === val);\r\n        if (city && city.id) {\r\n          this.params = {...this.params, province: val}\r\n          this.getLocationData({page: 1, per_page: this.items.per_page, ...this.params})\r\n          this.getCity(val)\r\n        }\r\n      }\r\n    },\r\n    filterByRegion (region) {\r\n      if(region.length){\r\n        region.forEach((id, idx) => {\r\n            this.params[`region[${idx}]`] = id;\r\n        });\r\n        this.getLocationData({page: 1, per_page: this.items.per_page, ...this.params})\r\n      }\r\n    },\r\n    filterByCity (cityId) {\r\n      if(cityId){\r\n        this.params = {...this.params, city: cityId}\r\n        this.getLocationData({page: 1, per_page: this.items.per_page, ...this.params})\r\n      }\r\n    },\r\n    filterWarehouseOnly(val){\r\n      this.params = {...this.params, warehouse_only: val}\r\n      this.getLocationData({page: 1, per_page: this.items.per_page, ...this.params})\r\n    },\r\n    clearFilters(){\r\n      this.params = {};\r\n      this.regions = [];\r\n      this.country = null;\r\n      this.province = null;\r\n      this.city = null;\r\n      this.warehouseOnly = false;\r\n      this.initial = null;\r\n      this.getLocationData({page: 1, per_page: this.items.per_page, ...this.params})\r\n    },\r\n    async download() {\r\n      const exportRes = await exportLocations({\r\n        page: this.items.current_page,\r\n        per_page: this.items.per_page,\r\n        ...this.params,\r\n      });\r\n      if (exportRes.statusText === 'OK') {\r\n        var link = document.createElement(\"a\");\r\n        const blob = new Blob([exportRes.data], {\r\n          type: \"application/octet-stream\",\r\n        });\r\n        link.href = window.URL.createObjectURL(blob);\r\n        link.download = \"locations.xlsx\";\r\n        link.click();\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    initial: {\r\n      handler: function(val) {\r\n        console.log(val)\r\n        setTimeout(() => {\r\n          this.params = {...this.params, q: val};\r\n          this.getLocationData({page: 1, per_page: this.items.per_page, ...this.params})\r\n        },1000)\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.md-app-content {\r\n  background: #eee;\r\n}\r\n.md-menu-content {\r\n  background: #fff;\r\n  margin-top: 48px;\r\n  /* max-width: 280px !important; */\r\n}\r\n.md-ripple > span {\r\n  left: 50px;\r\n  top: 16px;\r\n}\r\n</style>\r\n ","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Locations.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Locations.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Locations.vue?vue&type=template&id=5809a65c&\"\nimport script from \"./Locations.vue?vue&type=script&lang=js&\"\nexport * from \"./Locations.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Locations.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.es/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n"],"sourceRoot":""}